<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="renderer" content="webkit">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <title>
        阿森的Blog
    </title>
    
<link rel="stylesheet" href="/libs/highlight/styles/monokai-sublime.css">

    
<link rel="stylesheet" href="/libs/font-awesome/css/font-awesome.min.css">

    
<link rel="stylesheet" href="/css/style.css">

<meta name="generator" content="Hexo 5.4.2"></head>

<body id="bodyx">
    <div class="hd posts">
    <a href="/index.html"><i class="fa fa-reply replay-btn" aria-hidden="true"></i></a>
    <div class="post-title">
        <p>
            工作学习记录
        </p>
        <hr>
    </div>
    <div class="post-content">
        <center><h1>工作学习记录</h1></center>

<h3 id="2023-03-28"><a href="#2023-03-28" class="headerlink" title="2023-03-28"></a>2023-03-28</h3><p>中间间隔了几个月没做日志记录<br>一直在丧 总觉得没啥意思<br>但是下来又会自己开导自己<br>大道理都懂 走出来很难<br>丧了几个月之后意识到这样下去不是办法<br>不能让自己变得消极下去 不然废了<br>索性出来找工作<br>亮哥，康总和彤姐都想让我回去<br>我是没啥脸面回去了 宁愿从头开始<br>从头开始也有个好处 接触到不同的项目 了解不同的业务知识 对自己也是一个提升<br>所有的选择都是最好的选择 一切都是最好的安排<br>洗漱去 不过该说不说的 hexo拿来记录日志真的蛮好用<br>Life is a fucking movie</p>
<h3 id="2023-03-28-1"><a href="#2023-03-28-1" class="headerlink" title="2023-03-28"></a>2023-03-28</h3><h4 id="飞行流量复杂度："><a href="#飞行流量复杂度：" class="headerlink" title="飞行流量复杂度："></a>飞行流量复杂度：</h4><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">上周入职了新公司 是民航数据 是做飞机流控相关的业务</span><br><span class="line">下面是第一个正式任务做的总结知识 留一个记录</span><br></pre></td></tr></table></figure>
<details>
    <summary>展开查看复杂度相关总结</summary>
    <pre>
        <code>
交通流总时间: 是指网格中所有飞机飞行时间的总和
交互作用时间指的是飞行时间的乘积
------------------------------------------------------------------------------------------------
n1飞机飞行时间 * n2飞机飞行时间 = n1与n2相互作用时间(t1)
n2飞机飞行时间 * n1飞机飞行时间 = n2与n1相互作用时间(t2)
t1 + t2 = 总的相互作用时间(t3)
1.交通流密度（AdjDens）= t3 / 网格中交通流总时间(n1飞机飞行时间 + n2飞机飞行时间 + ...)
------------------------------------------------------------------------------------------------
飞机的状态分为爬升、下降和巡航三种，按照飞机进入网格瞬间的飞行状态考虑。
垂直交互作用产生条件：
同一个网格中同时出现两架飞机，且两架飞机处于不同的飞行阶段(处于相同飞行阶段的飞机间无垂直交互作用)
若爬升/下降率< 500 ft/min时，认为飞机处于巡航阶段。
2.交通流垂直结构指标（VDIF）= 满足垂直交互作用产生条件的飞机的垂直交互作用时间的和 / 网格中交通流总时间(n1飞机飞行时间 + n2飞机飞行时间 + ...)
ex: 垂直交互作用时间的和可以理解为: 不同飞行状态间的飞机多重for循环产生的乘积
------------------------------------------------------------------------------------------------
2D状态下的飞机航线的夹角是否大于20度 大于则有水平相互作用
3.交通流水平结构指标（HDIF）= 满足水平交互作用产生条件的飞机的水平交互作用时间的和 / 网格中交通流总时间(n1飞机飞行时间 + n2飞机飞行时间 + ...)
ex: 水平交互作用时间的和可以理解为: 飞机航线的夹角是大于20度的飞机多重for循环产生的乘积
------------------------------------------------------------------------------------------------
速度交互作用产生条件：同一个网格中同时出现两架飞机，且两架飞机处于不同的速度。当速度差大于35kts时存在速度交互作用。速度为飞机处于该网格中间高度时的速度。
4.交通流速度结构指标（SDIF）= 满足速度交互作用产生条件的飞机的速度交互作用时间的和 / 网格中交通流总时间(n1飞机飞行时间 + n2飞机飞行时间 + ...)
------------------------------------------------------------------------------------------------
5.最终复杂度 = VDLF + HDLF + SDLF (即垂直复杂度 + 水平复杂度 + 速度复杂度)
将复杂度影响因素分为交通流密度和交通流结构两方面，则复杂度计算公式又可以写为如下：
最终复杂度 = VDIF/ AdjDens + VDIF/ AdjDens + VDIF/ AdjDens (即垂直复杂度/交通流密度 + 水平复杂度/交通流密度 + 速度复杂度/交通流密度)
        </code>
    </pre>
</details>

<h3 id="2023-05-11"><a href="#2023-05-11" class="headerlink" title="2023-05-11"></a>2023-05-11</h3><p>emmmm 终于还是回老窝了<br>亮哥答应手把手教我 很开心这个<br>前段时间从重构定时任务服务<br>到现在慢慢在改爆单王<br>学到不少架构思想层面的东西<br>个人总结下来如下：<br>1.拉垮代码和业务逻辑重写(现在突然想起来去年那段时间 应该就是着手在准备了)<br>2.整体返回结构修改调整(正在进行中)<br>3.调用外部接口RPC框架统一(未动)<br>4.日志结构调整 统一处理(未动)<br>5.k8s文件配置添加 然后上云 并用logtail采集日志(未动)<br>6.最后计划的一步是升级SpringBoot版本<br>大体上应该就是这些 但是细节处理起来 可能会很恼人 改造只能一点一点啃</p>
<p>遇到一些稀奇古怪的东西亮哥也会详细告诉我<br>有提升的感觉是真的不错<br>先逐步改造老项目 上到k8s 然后这段时间准备学习SprinBoot3的新特性<br>啃完之后 看看能不能跟着亮哥教的思路 把爆单王升级一手</p>
<p>这里要写一下爆单王升级mybatis-plus的坑<br>结合shardingjdbc配置升级的时候 如果是采用类配置的方式 忘记这里是这种方式处理的 找了两小时 浪费时间哦<br>要将SqlSessionFactory切换一下 变成MybatisSqlSessionFactoryBean 并设置分页插件<br>如下:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Primary</span></span><br><span class="line"><span class="meta">@Bean</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> SqlSessionFactory <span class="title">sqlSessionFactory</span><span class="params">(<span class="meta">@Qualifier(&quot;dataSource&quot;)</span> DataSource dataSource)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">    <span class="keyword">final</span> MybatisSqlSessionFactoryBean sessionFactory = <span class="keyword">new</span> MybatisSqlSessionFactoryBean();</span><br><span class="line">    <span class="comment">// 设置数据源bean</span></span><br><span class="line">    sessionFactory.setDataSource(dataSource);</span><br><span class="line">    <span class="comment">// 设置mapper文件路径</span></span><br><span class="line">    sessionFactory.setMapperLocations(<span class="keyword">new</span> PathMatchingResourcePatternResolver().getResources(MAPPER_LOCATION));</span><br><span class="line">    sessionFactory.setPlugins(paginationInterceptor());</span><br><span class="line">    <span class="keyword">return</span> sessionFactory.getObject();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Bean</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> MybatisPlusInterceptor <span class="title">paginationInterceptor</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    MybatisPlusInterceptor interceptor = <span class="keyword">new</span> MybatisPlusInterceptor();</span><br><span class="line">    interceptor.addInnerInterceptor(<span class="keyword">new</span> PaginationInnerInterceptor(DbType.MYSQL));</span><br><span class="line">    log.info(<span class="string">&quot;数据源指定为: &#123;&#125;&quot;</span>, DbType.MYSQL.getDesc());</span><br><span class="line">    <span class="keyword">return</span> interceptor;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>学到的这些东西 将是一生中最宝贵的财富</p>
<h3 id="2023-05-13"><a href="#2023-05-13" class="headerlink" title="2023-05-13"></a>2023-05-13</h3><p>vi /etc/vimrc</p>
<p>set sw=4<br>set ts=4<br>set et<br>set smarttab<br>set smartindent<br>set lbr<br>set fo+=mB<br>set sm<br>set selection=inclusive<br>set wildmenu<br>set mousemodel=popup</p>
<hr>
<center>所有的一切，仅仅是因为喜欢。</center>
    </div>

    
</div>
    <div class="footer" id="footer">
    <p>Copyright © 2021 <a class="flink" target="_blank" rel="noopener" href="https://github.com/a16888861">Elliot</a>.
        <label class="el-switch el-switch-green el-switch-sm" style="vertical-align: sub;">
            <input type="checkbox" name="switch" id="update_style">
            <span class="el-switch-style"></span>
        </label>
    </p>
</div>
<input type="hidden" id="web_style" value="black">
<input type="hidden" id="valine_appid" value="CmCti21ooOOIzFOhEyFkFvR0-gzGzoHsz">
<input type="hidden" id="valine_appKey" value="FqiyUqbg7McKN2eG0MCewupf">

<script src="/libs/jquery.min.js"></script>


<script src="/libs/highlight/highlight.pack.js"></script>

<script src='//cdn.jsdelivr.net/npm/valine@1.3.10/dist/Valine.min.js'></script>

<script src="/js/js.js"></script>

<style type="text/css">
.v * {
    color: #698fca;
}

.v .vlist .vcard .vhead .vsys {
    color: #3a3e4a;
}

.v .vlist .vcard .vh .vmeta .vat {
    color: #638fd5;
}

.v .vlist .vcard .vhead .vnick {
    color: #6ba1ff;
}

.v a {
    color: #8696b1;
}

.v .vlist .vcard .vhead .vnick:hover {
    color: #669bfc;
}
</style>
</body>

</html>